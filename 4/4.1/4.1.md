# 4.1. Disponibilidad


## Módulo de reseñas y comentarios
### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| ESC-01 | Disponibilidad| Fallo en el servidor encargado del envío de reseñas y comentarios  | Servidor en la nube | Módulo de Envío de reseñas y comentarios | Operación normal | El sistema continúa operando sin interrupciones | Se mantiene disponibilidad del 99.9% mensual |


### Táctica Elegida
Redundancia activa con balanceo de carga

### Documentación de la Decisión (ADR)

**Título**:  
- Elección entre Redundancia activa vs Redundancia pasiva para el módulo de reseñas y comentarios

**Contexto**:  
- Es importante que el módulo permanezca operativo incluso en caso de fallos en los servidores individuales para garantizar la mejor experiencia de usuario posible.

**Alternativas**:
1. **Redundancia Activa**  
   - Mantiene varios servidores activos y todos reciben peticiones. En el caso de que uno falle, dichas peticiones se redirigen a otro que si se encuentre activo.
   - A nivel de costo se requiere de una mayor inversión de infraestructura.
   - Requiere de monitoreo constante para prevenir fallas.

2. **Redundancia Pasiva**  
   - Mientras un servidor se encuentra activo, los demás están a la espera en caso de que este falle, activando así al servidor de respaldo. Se le asigna la resposabilidad de llevar a cabo las operaciones al servidor que está siendo activado por al falla.
   - Tiempos de conmutación largos.

**Criterios de Elección**:  
- Priorizar minimizar el tiempo de inactividad para asegurar la satisfacción del usuario.
- El balanceo de carga distribuye la carga de trabajo de manera uniforme, evitando cuellos de botella.
- Permite ajustar la capacidad de forma dinámica para adaptarse a las demandas cambiantes.

**Decisión**:  
- Redundancia activa con balanceo de carga.

**Sustento**:  
- La Redundancia activa permite asegurar la cotinuidad del servidor sin interrupciones, sobretodo en un módulo importante en la plataforma en el que los usuarios pueden compartir sus experiencias con los demás viajeros. Interrumpir el proceso o tener tiempos de baja pueden perjudicar la experiencia del usuario, impactando negativamente en la percepción que busca crear Turi de crear una comunidad activa de viajeros en la plataforma.


### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| ESC-02 | Disponibilidad|Interrupción en el servicio de almacenamiento de fotos y videos de reseñas| Servidor en la nube | Módulo de Envío de reseñas y comentarios | Operación normal | El sistema debe continuar aceptando reseñas sin archivos multimedia, informando al usuario del problema temporal | Se mantiene disponibilidad del 99.9% anual |


### Táctica Elegida
**Degradación de servicios**: Cuando ocurre una interrupción en el almacenamiento de archivos multimedia subidos por los usuarios, el sistema se mantiene operativo para las reseñas que contienen solo calificaciones y/o texto, mientras que el componente multimedia queda inactivo hasta que el servicio sea restaurado.

### Documentación de la Decisión (ADR)

**Título**:  
- Elección entre degradación de servicios vs redundancia activa

**Contexto**:  
- El contenido multimedia es un valor agregado a las reseñas y de cara al usuario la intención es que puedan compartir abiertamente sus experiencias, pero la funcionalidad principal del módulo de reseñas radica en la capacidad de dejar comentarios y calificaciones. Es por ello que si hay saturación del servidor de almacenamiento multimedia o se presentan interrupciones, es importante mantener la funcionalidad básica para minimizar el impacto en la experiencia del usuario.

**Alternativas**:
1. Degradación de servicios
- En caso de fallo del almacenamiento multimedia, las reseñas de texto y calificaciones seguirán funcionando.
- Notifica al usuario sobre la falla temporal de subir contenido multimedia con la expectativa de que estas funciones se restauren posteriormente.
- Menor costo de implementación y evita una caída o indisponibilidad completa del sistema.

2. Redundancia activa
- Tener múltiples servidores de almacenamiento multimedia en diferentes ubicaciones geográficas de forma activa al simultáneo.
- Al fallar un servidor, otro servidor toma la responsabilidad sin afectar la experiencia del usuario.
- Mayor inversión en infraestructura.
- Alta disponibilidad, evita caídas en el sistema a nivel completo.

**Criterios de Elección**:  
- Impacto en la experiencia del usuario.
- Costo de implementación.
- Importancia de mantener funcionalidades del sistema.
- Necesidad de tolerar fallos de componentes no críticos.

**Decisión**:  
- Degradación de servicios.

**Sustento**:  
- Debido a que el contenido multimedia es complementario a la funcionalidad principal de las reseñas, la degradación de servicios es una opción más rentable y la mejor en una situación en la que debe prevalecer las interacciones básicas para el usuario. Además, permite que el sistema siga funcionando parcialmente cuando hay un fallo en la carga de contenido multimedia, manteniendo la interacción con los usuarios y garantizando una alta disponibilidad para las funciones esenciales de la plataforma.