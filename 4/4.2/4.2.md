# 4.2. Mantenibilidad

# Blog

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo** | **Fuente del Estímulo** | **Artefacto** | **Entorno** | **Respuesta**| **Medida de Respuesta**|
|----------|------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| ESC-01 | Mantenibilidad | Cambios en el criterio para seleccionar hashtags populares | Equipo de Desarrollo  | Módulo de Blog | Entorno de desarrollo y producción| Los cambios se aplican sin necesidad de modificar el código fuente | Los cambios están en producción en un tiempo de 1 hora|


### Táctica Elegida
Para asegurar que los cambios en los criterios de popularidad de hashtags puedan realizarse sin modificar el código fuente, se utiliza la táctica de **Parametrización**. Esto implica que los criterios de popularidad serán parametrizados y almacenados en archivos de configuración o en una base de datos externa, facilitando su ajuste sin necesidad de realizar cambios en el código.

### Documentación de la Decisión (ADR)

**Título**:  
- Elección de Parametrización para la selección de Hashtags Populares en el Módulo de Blog.
  
**Contexto**:  
- El módulo de Blog permite a los usuarios compartir experiencias y contenido multimedia sobre lugares turísticos. Los hashtags organizan el contenido, y los 5 hashtags más populares se muestran en una tabla destacada. El criterio actual para determinar la popularidad de los hashtags está basado en la cantidad de uso, pero los administradores quieren la flexibilidad de modificar estos criterios sin alterar el código fuente.

**Alternativas**:
1. **Parametrización**  
   - Los criterios de popularidad de hashtags (por ejemplo, cantidad de veces que un hashtag es usado, interacciones asociadas, etc.) se parametrizan y almacenan en archivos de configuración o bases de datos.
   - Permite ajustar estos criterios de forma dinámica, sin necesidad de redeploy del sistema.
   - Flexibilidad para realizar cambios de forma rápida y con bajo impacto en el código.

2. **Criterios Definidos en el Código**  
   - Los criterios están hardcoded en el código.
   - Cada cambio requiere la modificación del código, seguido de pruebas y redeploy.
   - Menos flexible y requiere ciclos completos de desarrollo y despliegue para hacer cambios.

**Criterios de Elección**:  
- Flexibilidad para modificar los criterios de selección de hashtags populares sin modificar el código.
- Minimización del tiempo de implementación y despliegue.
- Facilidad para los administradores de realizar cambios rápidos en los criterios.

**Decisión**:  
Se elige **Parametrización** para gestionar los criterios de popularidad de hashtags en el Módulo de Blog.

**Sustento**:  
- La parametrización permite que los criterios de selección de los hashtags populares se ajusten fácilmente a través de un archivo de configuración o base de datos, sin necesidad de tocar el código fuente. Esto es crucial para un sistema dinámico donde las reglas pueden cambiar dependiendo del comportamiento del usuario o de nuevas políticas de contenido. Al eliminar la necesidad de modificar y redeployar el código, se incrementa la agilidad y flexibilidad del sistema, mejorando su mantenibilidad.


| **Cod Escenario** | **Atributo de Calidad** | **Estímulo** | **Fuente del Estímulo** | **Artefacto** | **Entorno** | **Respuesta**| **Medida de Respuesta**|
|----------|------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| ESC-02 | Mantenibilidad | Modificación en la funcionalidad de comentarios en el blog | Equipo de Desarrollo  | Módulo de Blog | Entorno de desarrollo y producción| Los cambios en la funcionalidad de comentarios no afectan otras funcionalidades del blog | Los cambios están en producción en un tiempo de 3 horas|

### Táctica Elegida
Se elige la táctica de **Disminuir Acoplamiento** para asegurarse de que los componentes del blog, como las publicaciones y los comentarios, estén lo suficientemente desacoplados entre sí. Esto permite modificar o mejorar la funcionalidad de los comentarios sin afectar la visualización de publicaciones, hashtags o categorías.

### Documentación de la Decisión (ADR)

**Título**:  
- Elección de Disminuir Acoplamiento para la funcionalidad de comentarios en el Módulo de Blog.
  
**Contexto**:  
- El módulo de Blog permite a los usuarios comentar en publicaciones, creando un hilo de conversación. Se necesita modificar la lógica de los comentarios para permitir funciones avanzadas, como la edición y eliminación de comentarios, sin que esto impacte otras funcionalidades del módulo, como la visualización de publicaciones, hashtags populares y el filtrado por categorías.

**Alternativas**:
1. **Disminuir Acoplamiento**  
   - Separar los comentarios del resto de funcionalidades del blog (publicaciones, hashtags, categorías) mediante interfaces o patrones de diseño como repositorios o eventos.
   - Facilita la modificación de los comentarios sin riesgo de afectar otras partes del módulo.
   - Promueve una arquitectura más flexible y mantenible.

2. **Código Acoplado**  
   - Dejar el código acoplado, donde la lógica de los comentarios depende directamente de la estructura de las publicaciones.
   - Requiere más esfuerzo al modificar los comentarios, ya que cualquier cambio puede afectar la visualización de las publicaciones u otras funcionalidades.
   - Incrementa el riesgo de errores no deseados y dificulta las pruebas y el mantenimiento.

**Criterios de Elección**:  
- Minimizar el impacto de los cambios en la lógica de comentarios sobre el resto del módulo de Blog.
- Facilitar la mantenibilidad y pruebas de las funcionalidades individuales del módulo.
- Reducir el riesgo de introducir errores al modificar el código.

**Decisión**:  
Se elige **Disminuir Acoplamiento** entre los comentarios y las publicaciones para el módulo de Blog.


**Sustento**:  
- Al aplicar la táctica de disminuir acoplamiento, se asegura que los comentarios se gestionen de manera independiente del resto de las funcionalidades del blog. Esto permite realizar modificaciones o mejoras en la lógica de los comentarios sin que se vea afectada la visualización de publicaciones, hashtags o el filtrado por categorías. Además, reduce el riesgo de errores no deseados, mejora la mantenibilidad del código y facilita su testeo.


## Módulo de Autentificación y Seguridad

### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                              | **Fuente del Estímulo** | **Artefacto**                    | **Entorno**                              | **Respuesta**                                      | **Medida de Respuesta**                             |
|------------------|-------------------------|-------------------------------------------|-------------------------|----------------------------------|------------------------------------------|---------------------------------------------------|-----------------------------------------------------|
| MAU-01         | Mantenibilidad           | Se requiere implementar una nueva política de autenticación que exige contraseñas más fuertes y autenticación multifactor (MFA)    | Administrador del sistema     | Módulo de Autenticación          | Tiempo de diseño | Modificar el código para implementar las nuevas políticas, realizar pruebas exhaustivas y desplegar los cambios | Tiempo necesario para realizar los cambios, pruebas y despliegue, y número de errores detectados durante las pruebas |

### Táctica Elegida

Para este escenario, se selecciona la táctica de **Disminuir el Acoplamiento** dentro del módulo de seguridad, encapsulando las nuevas funcionalidades (política de contraseñas y MFA) para que no afecten otros componentes del sistema.

### Documentación de la Decisión (ADR)

**Título:**  
Encapsulación de Funcionalidades en el Módulo de Seguridad para Implementar Nuevas Políticas  

**Contexto:**  
El sistema de autenticación requiere una actualización para cumplir con nuevas políticas de seguridad que incluyen la validación de contraseñas más fuertes y la integración de autenticación multifactor (MFA). Actualmente, el código de autenticación y las políticas de contraseñas están entrelazados, lo que hace que los cambios en una parte afecten otras funcionalidades.

**Alternativas:**  
1. **Encapsular las nuevas funcionalidades en módulos separados**
   - Implementar las políticas de contraseñas fuertes y MFA como módulos separados dentro del sistema de autenticación, lo que reduciría la dependencia entre las partes del código.
   - Esto permitirá modificar o actualizar políticas sin afectar otros componentes del sistema, facilitando futuras actualizaciones o mejoras.
   - Puede requerir refactorización del código existente, lo que implica una inversión inicial significativa.

2. **Modificar el código actual sin cambiar la estructura**
   - Realizar los cambios directamente en el código existente, añadiendo las nuevas políticas dentro del mismo flujo de autenticación.
   - Esta opción requiere menos tiempo en el corto plazo, pero aumentará la complejidad y el acoplamiento, dificultando futuras modificaciones o correcciones.

**Decisión:**  
Se opta por la **Encapsulación de las nuevas funcionalidades en módulos separados**.

**Sustento:**  
Al encapsular las nuevas políticas en módulos separados, se reduce el acoplamiento entre las diferentes funcionalidades del sistema de autenticación, lo que facilitará futuras actualizaciones y pruebas. Aunque esta opción implica refactorización y un esfuerzo adicional inicial, reducirá el riesgo de introducir errores y hará que el sistema sea más mantenible a largo plazo.

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                              | **Fuente del Estímulo** | **Artefacto**                    | **Entorno**                              | **Respuesta**                                      | **Medida de Respuesta**                             |
|------------------|-------------------------|-------------------------------------------|-------------------------|----------------------------------|------------------------------------------|---------------------------------------------------|-----------------------------------------------------|
| MAU-02         | Mantenibilidad           | Se requiere depurar un problema intermitente en el proceso de autenticación    | Administrador del sistema     | Módulo de Autenticación          | Tiempo de ejecución | Identificar el problema, aislar su causa raíz y aplicar una solución | Tiempo para la identificación, pruebas y solución |

### Táctica Elegida

Para este escenario, se elige la táctica de **Increamentar la Cohesión** en el código del módulo de autenticación, separando responsabilidades para facilitar el análisis y depuración de problemas.

### Documentación de la Decisión (ADR)

**Título:**  
Reorganización del Módulo de Autenticación para Facilitar la Depuración  

**Contexto:**  
El proceso de autenticación presenta un problema intermitente, lo que dificulta la depuración debido a la dispersión de responsabilidades en el código del módulo. Actualmente, la baja cohesión en el código complica identificar la causa raíz de los errores, haciendo el proceso de resolución lento y difícil.

**Alternativas:**  
1. **Reorganización para mejorar la cohesión**
   - Separar las responsabilidades del módulo, asignando áreas específicas para validación de contraseñas, autenticación multifactor y manejo de sesiones.
   - Esto facilitará la identificación de errores al aislar áreas funcionales, reduciendo la complejidad durante la depuración.
   - Aunque la reorganización inicial consuma tiempo, resultará en un código más claro y fácil de mantener a largo plazo.

2. **Mantener la estructura actual y usar herramientas de depuración**
   - Mantener la estructura del código como está y usar herramientas de monitoreo y logging avanzado para mejorar la capacidad de análisis.
   - Esto minimiza el tiempo invertido inicialmente, pero la falta de cohesión en el código puede complicar la identificación de problemas recurrentes o intermitentes.

**Decisión:**  
Se opta por la **Reorganización para mejorar la cohesión**.

**Sustento:**  
Dado que el problema es intermitente y la estructura actual del código dificulta la depuración, reorganizar el módulo mejorará la trazabilidad y reducirá la complejidad en futuros problemas. Aunque las herramientas avanzadas de depuración son útiles, una mejor cohesión en el código hará que la depuración sea más eficiente y rápida a largo plazo.
