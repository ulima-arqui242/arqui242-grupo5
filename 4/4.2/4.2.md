# 4.2. Mantenibilidad

## Módulo de Autentificación y Seguridad

### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                              | **Fuente del Estímulo** | **Artefacto**                    | **Entorno**                              | **Respuesta**                                      | **Medida de Respuesta**                             |
|------------------|-------------------------|-------------------------------------------|-------------------------|----------------------------------|------------------------------------------|---------------------------------------------------|-----------------------------------------------------|
| MAU-01         | Mantenibilidad           | Se requiere implementar una nueva política de autenticación que exige contraseñas más fuertes y autenticación multifactor (MFA)    | Administrador del sistema     | Módulo de Autenticación          | Tiempo de diseño | Modificar el código para implementar las nuevas políticas, realizar pruebas exhaustivas y desplegar los cambios | Tiempo necesario para realizar los cambios, pruebas y despliegue, y número de errores detectados durante las pruebas |

### Táctica Elegida

Para este escenario, se selecciona la táctica de **Disminuir el Acoplamiento** dentro del módulo de seguridad, encapsulando las nuevas funcionalidades (política de contraseñas y MFA) para que no afecten otros componentes del sistema.

### Documentación de la Decisión (ADR)

**Título:**  
Encapsulación de Funcionalidades en el Módulo de Seguridad para Implementar Nuevas Políticas  

**Contexto:**  
El sistema de autenticación requiere una actualización para cumplir con nuevas políticas de seguridad que incluyen la validación de contraseñas más fuertes y la integración de autenticación multifactor (MFA). Actualmente, el código de autenticación y las políticas de contraseñas están entrelazados, lo que hace que los cambios en una parte afecten otras funcionalidades.

**Alternativas:**  
1. **Encapsular las nuevas funcionalidades en módulos separados**
   - Implementar las políticas de contraseñas fuertes y MFA como módulos separados dentro del sistema de autenticación, lo que reduciría la dependencia entre las partes del código.
   - Esto permitirá modificar o actualizar políticas sin afectar otros componentes del sistema, facilitando futuras actualizaciones o mejoras.
   - Puede requerir refactorización del código existente, lo que implica una inversión inicial significativa.

2. **Modificar el código actual sin cambiar la estructura**
   - Realizar los cambios directamente en el código existente, añadiendo las nuevas políticas dentro del mismo flujo de autenticación.
   - Esta opción requiere menos tiempo en el corto plazo, pero aumentará la complejidad y el acoplamiento, dificultando futuras modificaciones o correcciones.

**Decisión:**  
Se opta por la **Encapsulación de las nuevas funcionalidades en módulos separados**.

**Sustento:**  
Al encapsular las nuevas políticas en módulos separados, se reduce el acoplamiento entre las diferentes funcionalidades del sistema de autenticación, lo que facilitará futuras actualizaciones y pruebas. Aunque esta opción implica refactorización y un esfuerzo adicional inicial, reducirá el riesgo de introducir errores y hará que el sistema sea más mantenible a largo plazo.

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                              | **Fuente del Estímulo** | **Artefacto**                    | **Entorno**                              | **Respuesta**                                      | **Medida de Respuesta**                             |
|------------------|-------------------------|-------------------------------------------|-------------------------|----------------------------------|------------------------------------------|---------------------------------------------------|-----------------------------------------------------|
| MAU-02         | Mantenibilidad           | Se requiere depurar un problema intermitente en el proceso de autenticación    | Administrador del sistema     | Módulo de Autenticación          | Tiempo de ejecución | Identificar el problema, aislar su causa raíz y aplicar una solución | Tiempo para la identificación, pruebas y solución |

### Táctica Elegida

Para este escenario, se elige la táctica de **Increamentar la Cohesión** en el código del módulo de autenticación, separando responsabilidades para facilitar el análisis y depuración de problemas.

### Documentación de la Decisión (ADR)

**Título:**  
Reorganización del Módulo de Autenticación para Facilitar la Depuración  

**Contexto:**  
El proceso de autenticación presenta un problema intermitente, lo que dificulta la depuración debido a la dispersión de responsabilidades en el código del módulo. Actualmente, la baja cohesión en el código complica identificar la causa raíz de los errores, haciendo el proceso de resolución lento y difícil.

**Alternativas:**  
1. **Reorganización para mejorar la cohesión**
   - Separar las responsabilidades del módulo, asignando áreas específicas para validación de contraseñas, autenticación multifactor y manejo de sesiones.
   - Esto facilitará la identificación de errores al aislar áreas funcionales, reduciendo la complejidad durante la depuración.
   - Aunque la reorganización inicial consuma tiempo, resultará en un código más claro y fácil de mantener a largo plazo.

2. **Mantener la estructura actual y usar herramientas de depuración**
   - Mantener la estructura del código como está y usar herramientas de monitoreo y logging avanzado para mejorar la capacidad de análisis.
   - Esto minimiza el tiempo invertido inicialmente, pero la falta de cohesión en el código puede complicar la identificación de problemas recurrentes o intermitentes.

**Decisión:**  
Se opta por la **Reorganización para mejorar la cohesión**.

**Sustento:**  
Dado que el problema es intermitente y la estructura actual del código dificulta la depuración, reorganizar el módulo mejorará la trazabilidad y reducirá la complejidad en futuros problemas. Aunque las herramientas avanzadas de depuración son útiles, una mejor cohesión en el código hará que la depuración sea más eficiente y rápida a largo plazo.

