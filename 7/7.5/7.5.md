# 7.5. Patrones Cloud: Gateway Routing, Circuit Breaker y Health Endpoint Monitoring

## Gateway Routing

El patrón **Gateway Routing** se implementa a través del API Gateway de **Turi**, que enruta solicitudes entrantes hacia los servicios backend correspondientes, simplificando la comunicación entre cliente y servidor.

### Funcionalidades:
- Enrutamiento inteligente basado en la URL, encabezados o datos del payload.
- Transformación de solicitudes y respuestas para compatibilidad entre clientes y servicios.
- Gestión centralizada de la autenticación y autorización.

### Beneficios:
- **Simplicidad**: Reduce la complejidad para los clientes al unificar puntos de acceso.
- **Escalabilidad**: Permite añadir nuevos servicios sin cambiar la estructura del cliente.

---

## Circuit Breaker

El patrón **Circuit Breaker** protege el sistema de sobrecargas y fallos en cascada al monitorear las solicitudes a los servicios y detener temporalmente las solicitudes a servicios que estén fallando.

### Funcionalidades:
- **Detección de fallos**: Monitorea el tiempo de respuesta y errores de los servicios backend.
- **Estados del circuito**:
  - **Cerrado**: Las solicitudes fluyen normalmente.
  - **Abierto**: Las solicitudes son bloqueadas para evitar fallos adicionales.
  - **Semiabierto**: Se prueban solicitudes para verificar la recuperación del servicio.
- **Registro de métricas**: Proporciona estadísticas para identificar servicios problemáticos.

### Beneficios:
- **Resiliencia**: Evita que fallos en un servicio afecten al sistema completo.
- **Mejora del rendimiento**: Reduce la carga en servicios problemáticos al cortar el flujo de solicitudes.

---

## Health Endpoint Monitoring

El patrón **Health Endpoint Monitoring** asegura la disponibilidad del sistema mediante endpoints diseñados para monitorear la salud de los servicios.

### Funcionalidades:
- **Endpoints de salud**:
  - Responden con el estado del servicio (`UP` o `DOWN`).
  - Incluyen métricas clave como tiempo de respuesta, uso de recursos y disponibilidad.
- **Monitoreo proactivo**:
  - Permite a los administradores identificar y resolver problemas antes de que afecten al usuario final.
- **Integración con herramientas**:
  - Se conecta con servicios de monitoreo en la nube como AWS CloudWatch o Prometheus.

### Beneficios:
- **Visibilidad**: Proporciona un panorama claro del estado de los servicios.
- **Prevención de fallos**: Permite actuar antes de que los problemas escalen.
- **Automatización**: Facilita la integración con sistemas de alerta y recuperación automática.